<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ABSI NEXUS | Trade Pro 10</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --bg: #0b0e11; --border: #2b3139; --green: #0ecb81; --red: #f6465d;
            --gray: #848e9c; --yellow: #fcd535; --input-bg: #1e2329;
        }
        body { background: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; padding-bottom: 70px; overflow-x: hidden; }

        /* منطقة التداول العلوية (نظام العمودين) */
        .trade-container { display: flex; padding: 10px; gap: 10px; border-bottom: 1px solid var(--border); }
        
        /* العمود الأيمن: أزرار التحكم */
        .trade-controls { flex: 1.2; }
        .side-tabs { display: flex; background: var(--input-bg); border-radius: 4px; margin-bottom: 10px; }
        .side-btn { flex: 1; padding: 8px; border: none; background: none; color: var(--gray); font-weight: bold; cursor: pointer; }
        .side-btn.active-buy { background: var(--green); color: white; border-radius: 4px; }
        .side-btn.active-sell { background: var(--red); color: white; border-radius: 4px; }

        .order-type-select { width: 100%; background: var(--input-bg); border: 1px solid var(--border); color: white; padding: 8px; border-radius: 4px; margin-bottom: 10px; }

        .input-group { background: var(--input-bg); border-radius: 4px; display: flex; align-items: center; padding: 5px 10px; margin-bottom: 8px; border: 1px solid transparent; }
        .input-group:focus-within { border-color: var(--yellow); }
        .input-group input { background: none; border: none; color: white; width: 100%; text-align: left; outline: none; }
        .input-label { font-size: 11px; color: var(--gray); min-width: 40px; }

        .balance-info { font-size: 11px; color: var(--gray); margin: 5px 0; }
        .percent-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px; margin-bottom: 15px; }
        .p-btn { background: var(--input-bg); border: none; color: var(--gray); font-size: 10px; padding: 5px; border-radius: 2px; }

        .main-trade-btn { width: 100%; padding: 12px; border: none; border-radius: 4px; font-weight: bold; font-size: 16px; cursor: pointer; }
        .btn-buy { background: var(--green); color: white; }
        .btn-sell { background: var(--red); color: white; }

        /* العمود الأيسر: دفتر الأوامر (Order Book) */
        .order-book { flex: 0.8; font-size: 11px; }
        .ob-row { display: flex; justify-content: space-between; padding: 2px 0; position: relative; }
        .ob-price { font-weight: bold; }
        .ob-amt { color: var(--gray); }
        .depth-bar { position: absolute; right: 0; height: 100%; opacity: 0.2; z-index: 0; }

        /* منطقة الصفقات (تظهر عند السحب للأسفل) */
        .orders-section { padding: 15px; border-top: 5px solid #181a20; }
        .section-tabs { display: flex; gap: 20px; border-bottom: 1px solid var(--border); margin-bottom: 15px; }
        .sec-tab { color: var(--gray); padding-bottom: 8px; font-size: 14px; cursor: pointer; }
        .sec-tab.active { color: white; border-bottom: 2px solid var(--yellow); }

        .position-card { background: #181a20; padding: 12px; border-radius: 4px; margin-bottom: 10px; border-right: 4px solid var(--green); }
        .pos-header { display: flex; justify-content: space-between; margin-bottom: 10px; }
        .pnl-text { font-size: 18px; font-weight: bold; }
        .close-btn { background: #2b3139; color: white; border: none; padding: 5px 10px; border-radius: 4px; font-size: 11px; }

        /* شريط التنقل السفلي */
        .nav-bottom { position: fixed; bottom: 0; width: 100%; height: 60px; background: #000; display: flex; justify-content: space-around; border-top: 1px solid var(--border); z-index: 100; }
        .nav-item { text-align: center; color: var(--gray); text-decoration: none; font-size: 10px; padding-top: 10px; flex: 1; }
        .nav-item.active { color: white; }
    </style>
</head>
<body>

    <div class="trade-container">
        <div class="trade-controls">
            <div class="side-tabs">
                <button class="side-btn active-buy" id="buy-mode">شراء</button>
                <button class="side-btn" id="sell-mode">بيع</button>
            </div>

            <select class="order-type-select">
                <option>طلب حدي (Limit)</option>
                <option>سعر السوق (Market)</option>
                <option>إيقاف حدي (Stop-Limit)</option>
            </select>

            <div class="input-group">
                <span class="input-label">السعر</span>
                <input type="number" value="0.000228" id="trade-price">
                <span style="font-size:10px; color:var(--gray)">USDT</span>
            </div>

            <div class="input-group">
                <span class="input-label">الكمية</span>
                <input type="number" placeholder="0.00" id="trade-amount">
                <span style="font-size:10px; color:var(--gray)">RVV</span>
            </div>

            <div class="percent-grid">
                <button class="p-btn">25%</button>
                <button class="p-btn">50%</button>
                <button class="p-btn">75%</button>
                <button class="p-btn">100%</button>
            </div>

            <div class="balance-info">المتاح: <span id="user-balance" style="color:white">10,000.00</span> USDT</div>
            
            <button class="main-trade-btn btn-buy" id="main-exec-btn">شراء RVV</button>
        </div>

        <div class="order-book">
            <div style="display:flex; justify-content:space-between; color:var(--gray); margin-bottom:5px">
                <span>السعر</span><span>الكمية</span>
            </div>
            <div id="asks-list"></div>
            <div style="font-size:16px; font-weight:bold; color:var(--green); margin:8px 0; text-align:center">0.000228 ↑</div>
            <div id="bids-list"></div>
        </div>
    </div>

    <div class="orders-section">
        <div class="section-tabs">
            <span class="sec-tab active">الطلبات المفتوحة (1)</span>
            <span class="sec-tab">الصفقات</span>
            <span class="sec-tab">السجل</span>
        </div>

        <div id="open-positions">
            <div class="position-card">
                <div class="pos-header">
                    <span>RVV/USDT <small style="background:#2b3139; padding:2px 4px;">عزل 10x</small></span>
                    <button class="close-btn" onclick="this.parentElement.parentElement.remove()">إغلاق</button>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <div style="color:var(--gray); font-size:11px;">الربح/الخسارة USDT</div>
                        <div class="pnl-text" style="color:var(--green)">+45.20 (8.12%)</div>
                    </div>
                    <div style="text-align: left;">
                        <div style="color:var(--gray); font-size:11px;">سعر الدخول</div>
                        <div style="font-size:13px;">0.000210</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <nav class="nav-bottom">
        <a href="index.html" class="nav-item"><i class="fas fa-chart-line"></i><br>الرسم البياني</a>
        <a href="markets.html" class="nav-item"><i class="fas fa-poll"></i><br>الأسواق</a>
        <a href="trade.html" class="nav-item active"><i class="fas fa-exchange-alt"></i><br>تداول</a>
        <a href="futures.html" class="nav-item"><i class="fas fa-file-contract"></i><br>العقود</a>
        <a href="wallet.html" class="nav-item"><i class="fas fa-wallet"></i><br>الأصول</a>
    </nav>

    <script>
        // تبديل بين شراء وبيع
        document.getElementById('buy-mode').onclick = function() {
            this.classList.add('active-buy');
            document.getElementById('sell-mode').classList.remove('active-sell');
            document.getElementById('main-exec-btn').className = 'main-trade-btn btn-buy';
            document.getElementById('main-exec-btn').innerText = 'شراء RVV';
        }
        document.getElementById('sell-mode').onclick = function() {
            this.classList.add('active-sell');
            document.getElementById('buy-mode').classList.remove('active-buy');
            document.getElementById('main-exec-btn').className = 'main-trade-btn btn-sell';
            document.getElementById('main-exec-btn').innerText = 'بيع RVV';
        }

        // محاكاة دفتر الأوامر (Order Book)
        function generateOB() {
            const asks = document.getElementById('asks-list');
            const bids = document.getElementById('bids-list');
            asks.innerHTML = ''; bids.innerHTML = '';

            for(let i=0; i<6; i++) {
                asks.innerHTML += `<div class="ob-row"><span class="ob-price" style="color:var(--red)">0.00023${i}</span><span class="ob-amt">${(Math.random()*100).toFixed(2)}K</span></div>`;
                bids.innerHTML += `<div class="ob-row"><span class="ob-price" style="color:var(--green)">0.00022${5-i}</span><span class="ob-amt">${(Math.random()*100).toFixed(2)}K</span></div>`;
            }
        }
        setInterval(generateOB, 1000); // تحديث وهمي كل ثانية
    </script>
</body>
</html>
